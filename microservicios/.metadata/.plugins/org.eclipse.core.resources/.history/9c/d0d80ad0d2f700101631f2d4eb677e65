package com.osiel.medicos.controllers;

import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import com.example.demo.controllers.*;
import com.example.demo.dto.MedicoRequest;
import com.example.demo.dto.MedicoResponse;
import com.example.demo.dto.PacienteResponse;
import com.osiel.medicos.services.MedicoService;

@RestController
//@RequestMapping("/medicos")
public class MedicoController extends CommonController<MedicoRequest, MedicoResponse, MedicoService>{

	public MedicoController(MedicoService service) {
		super(service);
		// TODO Auto-generated constructor stub
	}
	
	@GetMapping("/id-medico/{id}")
	public ResponseEntity<MedicoResponse> obtenerMedicoSinEstado(@PathVariable Long id){
		return ResponseEntity.ok(service.obtenerMedicoPorIdSinEstado(id));
	}
	
	@PutMapping("/{id}/disponibilidad")
	public ResponseEntity<Void> actualizarDisponibilidad(@PathVariable Long id, @RequestParam Long idDisponibilidad){
		service.actualizarDisponibilidad(id, idDisponibilidad);
		
		return ResponseEntity.noContent().build();
	}

	
}
